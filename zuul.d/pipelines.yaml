- pipeline:
    name: region1
    description: |
      region1 Newly opened pull requests originating from India enter this pipeline to receive an
      initial verification test
    manager: independent
    trigger:
      github:      
        - event: pull_request
          action:
            - opened
        - event: pull_request
          action: comment
          comment: (?i)^\s*EMEA\s*$        
    start:
      github:
        status: pending
        comment: false
    success:
      github:
        status: 'success'
        label: 'passed'
      mysql:  
    failure:
      github:
        status: 'failure'
        label: 'failed'
      mysql:

- pipeline:
    name: region2
    description: |
      region2 Newly opened pull requests originating from US enter this pipeline to receive an
      initial verification test
    manager: independent
    trigger:
      github:      
        - event: pull_request
          action:
            - opened
        - event: pull_request
          action: comment
          comment: (?i)^\s*NAFTA\s*$        
    start:
      github:
        status: pending
        comment: false
    success:
      github:
        status: 'success'
        label: 'passed'
      mysql:  
    failure:
      github:
        status: 'failure'
        label: 'failed'
      mysql:

- pipeline:
    name: pullrequest_label
    description: |
      check Newly opened pull requests enter to assign a label
    manager: independent
    trigger:
      github:        
        - event: pull_request
          action:
            - opened
    start:
      github:
        status: pending
        comment: false
    success:
      github:
        status: 'success'
        label: "{{ zuul_tag }}"
      mysql:  
    failure:
      github:
        status: 'failure'
      mysql:

- pipeline:
    name: pullrequest_dependent
    description: |
      check Newly opened pull requests enter to get the tag and display it
    manager: independent
    trigger:
      github:        
        - event: pull_request
          action:
            - opened
    start:
      github:
        status: pending
        comment: false
    success:
      github:
        status: 'success'
      mysql:
    failure:
      github:
        status: 'failure'
      mysql:

